CREATE TABLE CUSTOMERS (
    CUSTOMER_ID VARCHAR2(50) PRIMARY KEY,
    PHONE VARCHAR(10),
    EMAIL VARCHAR2(50),
    FIRST_NAME VARCHAR2(30),
    LAST_NAME VARCHAR2(30),
    STREET VARCHAR2(30),
    APT VARCHAR2(10),
    CITY VARCHAR2(50),
    STATE VARCHAR2(50),
    ZIP_CODE VARCHAR(10)
);

CREATE TABLE METERS (
    METER_ID VARCHAR2(30) PRIMARY KEY,
    CUSTOMER_ID VARCHAR2(50),
    METER_STATUS VARCHAR2(20),
    CREATED_AT VARCHAR2(10),
    FOREIGN KEY(CUSTOMER_ID) REFERENCES CUSTOMERS(CUSTOMER_ID)
);

CREATE TABLE METER_READINGS (
    READING_ID VARCHAR2(36) PRIMARY KEY,
    METER_ID VARCHAR2(36),
    READING_DATE DATE,
    FOREIGN KEY (METER_ID) REFERENCES METERS(METER_ID)
);

CREATE TABLE BILLING (
    BILL_ID VARCHAR2(36) PRIMARY KEY,
    CUSTOMER_ID VARCHAR2(36),
    METER_ID VARCHAR2(36),
    START_DATE DATE,
    END_DATE DATE,
    TOTAL_USAGE NUMBER(10,2),
    AMOUNT_DUE NUMBER(10,2),
    STATUS VARCHAR2(20),
    GENERATED_AT DATE DEFAULT SYSDATE,
    FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMERS(CUSTOMER_ID),
    FOREIGN KEY (METER_ID) REFERENCES METERS(METER_ID)
);

CREATE TABLE PAYMENT (
    PAYMENT_ID VARCHAR2(36) PRIMARY KEY,
    BILL_ID VARCHAR2(36),
    PAYMENT_DATE DATE,
    AMOUNT NUMBER(10,2),
    METHOD VARCHAR2(50),
    FOREIGN KEY (BILL_ID) REFERENCES BILLING(BILL_ID)
);

CREATE TABLE GEO_LOCATIONS (
    LOCATION_ID VARCHAR2(36) PRIMARY KEY,
    CUSTOMER_ID VARCHAR2(36),
    LATITUDE NUMBER(10,6),
    LONGITUDE NUMBER(10,6),
    FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMERS(CUSTOMER_ID)
);
